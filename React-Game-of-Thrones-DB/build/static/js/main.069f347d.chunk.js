(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(e,t,a){e.exports=a.p+"static/media/error.8edd3d93.jpg"},18:function(e,t,a){e.exports=a(46)},23:function(e,t,a){},25:function(e,t,a){},29:function(e,t,a){},31:function(e,t,a){},33:function(e,t,a){},35:function(e,t,a){},37:function(e,t,a){},44:function(e,t,a){},46:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(14),c=a.n(l),s=a(3),o=a(4),u=a(6),i=a(5),m=a(7),h=a(48),d=a(49),f=a(50),p=(a(23),function(){return r.a.createElement("div",{className:"header"},r.a.createElement("h3",{className:"header-title"},r.a.createElement("a",{href:"#"},"Game of Thrones DB")),r.a.createElement("ul",{className:"header-list"},r.a.createElement("li",null,r.a.createElement("a",{href:"#"},"Characters")),r.a.createElement("li",null,r.a.createElement("a",{href:"#"},"Houses")),r.a.createElement("li",null,r.a.createElement("a",{href:"#"},"Books"))))}),E=(a(25),a(9)),v=a.n(E),g=a(12),b=function(){function e(){var t=this;Object(s.a)(this,e),this.getResource=function(){var e=Object(g.a)(v.a.mark(function e(a){var n;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(t._apiBase).concat(a));case 2:if((n=e.sent).ok){e.next=5;break}throw new Error("Could not fetch ".concat(a)+", received ".concat(n.status));case 5:return e.next=7,n.json();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),this._apiBase="https://www.anapioficeandfire.com/api"}return Object(o.a)(e,[{key:"getAllBooks",value:function(){return this.getResource("/books/")}},{key:"getBook",value:function(e){return this.getResource("/books/".concat(e,"/"))}},{key:"getAllCharacters",value:function(){var e=Object(g.a)(v.a.mark(function e(){var t;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getResource("/characters?page=5&pageSize=10");case 2:return t=e.sent,e.abrupt("return",t.map(this._transformCharacter));case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"getCharacter",value:function(){var e=Object(g.a)(v.a.mark(function e(t){var a;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getResource("/characters/".concat(t));case 2:return a=e.sent,e.abrupt("return",this._transformCharacter(a));case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"getAllHouses",value:function(){return this.getResource("/houses/")}},{key:"getHouse",value:function(e){return this.getResource("/houses/".concat(e,"/"))}},{key:"_transformCharacter",value:function(e){return{name:e.name,gender:e.gender,born:e.born,died:e.died,culture:e.culture}}},{key:"__transformHouse",value:function(e){return{name:e.name,region:e.region,words:e.words,titles:e.titles,overlord:e.overlord,ancestrakWeapons:e.ancestrakWeapons}}},{key:"_transformBook",value:function(e){return{name:e.name,numberOfpages:e.numberofPages,publiser:e.publiser,released:e.released}}}]),e}(),y=(a(29),function(){return r.a.createElement("div",{className:"lds-css ng-scope"},r.a.createElement("div",{className:"lds-spin"},r.a.createElement("div",null,r.a.createElement("div",null)),r.a.createElement("div",null,r.a.createElement("div",null)),r.a.createElement("div",null,r.a.createElement("div",null)),r.a.createElement("div",null,r.a.createElement("div",null)),r.a.createElement("div",null,r.a.createElement("div",null)),r.a.createElement("div",null,r.a.createElement("div",null)),r.a.createElement("div",null,r.a.createElement("div",null)),r.a.createElement("div",null,r.a.createElement("div",null))))}),k=(a(31),a(15)),w=a.n(k),C=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("img",{src:w.a,alt:"error"}),r.a.createElement("span",null,"Something goes wrong"))},j=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(u.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r)))).gotService=new b,a.state={char:{},loading:!0,error:!1},a.onCharLoaded=function(e){a.setState({char:e,loading:!1})},a.onError=function(e){a.setState({error:!0,loading:!1})},a.updateChar=function(){var e=Math.floor(140*Math.random()+25);a.gotService.getCharacter(e).then(a.onCharLoaded).catch(a.onError)},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.updateChar(),this.timerId=setInterval(this.updateChar,1500)}},{key:"componentWillUnmount",value:function(){clearInterval(this.timerId)}},{key:"render",value:function(){console.log("render");var e=this.state,t=e.char,a=e.loading,n=e.error,l=n?r.a.createElement(C,null):null,c=a?r.a.createElement(y,null):null,s=a||n?null:r.a.createElement(N,{char:t});return r.a.createElement("div",{className:"random-block rounded"},l,c,s)}}]),t}(n.Component),N=function(e){var t=e.char,a=t.name,n=t.gender,l=t.born,c=t.died,s=t.culture;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h4",null,"Random Character: ",a),r.a.createElement("ul",{className:"list-group list-group-flush"},r.a.createElement("li",{className:"list-group-item d-flex justify-content-between"},r.a.createElement("span",{className:"term"},"Gender "),r.a.createElement("span",null,n)),r.a.createElement("li",{className:"list-group-item d-flex justify-content-between"},r.a.createElement("span",{className:"term"},"Born "),r.a.createElement("span",null,l)),r.a.createElement("li",{className:"list-group-item d-flex justify-content-between"},r.a.createElement("span",{className:"term"},"Died "),r.a.createElement("span",null,c)),r.a.createElement("li",{className:"list-group-item d-flex justify-content-between"},r.a.createElement("span",{className:"term"},"Culture "),r.a.createElement("span",null,s))))},O=j,x=(a(33),function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(u.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r)))).gotService=new b,a.state={charList:null},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.gotService.getAllCharacters().then(function(t){e.setState({charList:t})})}},{key:"renderItems",value:function(e){var t=this;return e.map(function(e,a){return r.a.createElement("li",{key:a,className:"list-group-item",onClick:function(){return t.props.onCharSelected(41+a)}},e.name)})}},{key:"render",value:function(){var e=this.state.charList;if(!e)return r.a.createElement(y,null);var t=this.renderItems(e);return r.a.createElement("ul",{className:"item-list list-group"},t)}}]),t}(n.Component)),S=(a(35),function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(u.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r)))).gotService=new b,a.state={char:null},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.updateChar()}},{key:"componentDidUpdate",value:function(e){this.props.charId!==e.charId&&this.updateChar()}},{key:"updateChar",value:function(){var e=this,t=this.props.charId;t&&(this.gotService.getCharacter(t).then(function(t){e.setState({char:t})}),this.foo.bar=0)}},{key:"render",value:function(){if(!this.state.char)return r.a.createElement("span",{className:"select-error"},"Please select a character");var e=this.state.char,t=e.name,a=e.gender,n=e.born,l=e.died,c=e.culture;return r.a.createElement("div",{className:"person-details rounded"},r.a.createElement("h4",null,t),r.a.createElement("ul",{className:"list-group list-group-flush"},r.a.createElement("li",{className:"list-group-item d-flex justify-content-between"},r.a.createElement("span",{className:"term"},"Gender"),r.a.createElement("span",null,a)),r.a.createElement("li",{className:"list-group-item d-flex justify-content-between"},r.a.createElement("span",{className:"term"},"Born"),r.a.createElement("span",null,n)),r.a.createElement("li",{className:"list-group-item d-flex justify-content-between"},r.a.createElement("span",{className:"term"},"Died"),r.a.createElement("span",null,l)),r.a.createElement("li",{className:"list-group-item d-flex justify-content-between"},r.a.createElement("span",{className:"term"},c),r.a.createElement("span",null,c))))}}]),t}(n.Component)),R=(a(37),function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(u.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r)))).state={showRandomChar:!0,error:!1,selectedChar:130},a.toggleRandomCahr=function(){a.setState(function(e){return{showRandomChar:!e.showRandomChar}})},a.onCharSelected=function(e){a.setState({selectedChar:e})},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){if(this.state.error)return r.a.createElement(C,null);var e=this.state.showRandomChar?r.a.createElement(O,null):null;return r.a.createElement(r.a.Fragment,null,r.a.createElement(h.a,null,r.a.createElement(p,null)),r.a.createElement(h.a,null,r.a.createElement(d.a,null,r.a.createElement(f.a,{lg:{size:5,offset:0}},e,r.a.createElement("button",{className:"toggle-btn",onClick:this.toggleRandomCahr},"Toggle random character"))),r.a.createElement(d.a,null,r.a.createElement(f.a,{md:"6"},r.a.createElement(x,{onCharSelected:this.onCharSelected})),r.a.createElement(f.a,{md:"6"},r.a.createElement(S,{charId:this.selectedChar})))))}}]),t}(n.Component));a(42),a(44);c.a.render(r.a.createElement(R,null),document.getElementById("root"))}},[[18,2,1]]]);
//# sourceMappingURL=main.069f347d.chunk.js.map